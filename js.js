const licensesInfo = [
  {
    name: "Бесплатный",
    content: `
                  <div class="licenses-wrapper">
                  <div class="licenses__settings">
                    <p>Тариф доступен всем пользователям</p>
                    <span class="vertical-line"></span>
                    <p>
                      Диск 5 ГБ
                      <span class="little-text">
                        Без общего диска для компаний
                      </span>
                    </p>
                    <span class="vertical-line"></span>
                    <p>Бесплатно за всех пользователей</p>
                  </div>

                  <h3>Кому подойдет такой тариф?</h3>
                  <div class="item__main__content item__main__content--whoNeed">
                    <p>Стартапам</p>
                    <p>Начинающим отделам продаж</p>
                    <p>Управлениям персоналом</p>
                    <p>
                      Можно интегрировать с: Google Docs, Office 365, Microsoft
                      Office , Telegram, VK
                    </p>
                  </div>
                  <h3>Функции</h3>
                  <div class="item__main__content item__main__content--functions">
                    <p>
                      Новостная лента в стиле Facebook для внутренних
                      коммуникаций.
                    </p>
                    <p>База знаний компании</p>
                    <p>Внутренний мессенджер - с функциями WhatsApp</p>
                    <p>Внутренний ИИ</p>
                    <p>
                      Контакт-центр - интегрирующий все каналы заказов в единую
                      систему управления.
                    </p>
                    <p>Каталог товаров</p>
                    <p>
                      Календарь для каждого сотрудника для планирования
                      мероприятий
                    </p>
                    <p>Чек-ин на работе с геопозицией</p>
                    <p>Виртуальный отдел управления персоналом</p>
                    <p>Конструктор сайтов с бесплатным хостингом</p>
                    <p>Организационная структура компании</p>
                    <p>Автоматизация продаж через CRM</p>
                    <p>Работа с виртуальными задачами</p>
                  </div>
                  <h3>Ограничения</h3>
                  <div class="item__main__content item__main__content--restrictions">
                    <p>
                      Отсутствует возможность “Важных сообщений” и генерации
                      опросов
                    </p>
                    <p>Отсутствует редактирование документов</p>
                    <p>Невозможно подключить электронную почту</p>
                    <p>Число опубликованных сайтов - 1</p>
                    <p>
                      Ограничение на одну базу знаний, без ограничения прав
                      доступа
                    </p>
                    <p>Отсутствие учета рабочего времени сотрудников</p>
                    <p>Отсутствие запуска рабочего дня</p>
                    <p>Количество доступных воронок - 1</p>
                    <p>Максимальное количество роботов - 5</p>
                    <p>
                      Максимум 100 товаров могут быть опубликованы на лендингах
                    </p>
                    <p>Отсутствует чек-лист в задачах</p>
                    <p>Невозможно назначить наблюдателя и соисполнителя</p>
                    <p>Невозможно генерировать под-задачи</p>
                  </div>
                  </div>
                  <br />
    `,
  },
  {
    name: "Базовый",
    content: `
     <div class="licenses-wrapper">
    <div class="licenses__settings">
      <p>До 5 чел. </p>
      <span class="vertical-line"></span>
      <p>
        Диск 24 ГБ
        <span class="little-text">
          Без общего диска для компаний
        </span>
      </p>
      <span class="vertical-line"></span>
      <p>9 600₸/мес</p>
    </div>

    <h3>Кому подойдет такой тариф?</h3>
    <div class="item__main__content item__main__content--whoNeed">
      <p>Стартапам</p>
      <p>Онлайн- образованию</p>
      <p>Отделам продаж</p>
      <p>Автосервисам</p>
      <p>Управлению персоналом</p>
      <p>Сферам услуг</p>
      <p>
        Можно интегрировать с: Google Docs, Office 365, Microsoft Office , Telegram, VK
Телефоний, WhatsApp, E-mail ( 1 ящик )
      </p>
    </div>
    <h3>Функции</h3>
    <div class="item__main__content item__main__content--functions">
     <p>Новостная лента в стиле Facebook  для внутренних коммуникаций.</p>
     <p>Внутренний ИИ</p>
     <p>Внутренний мессенджер - с функциями  WhatsApp</p>
     <p>Демонстрация экрана</p>
     <p>Конструктор сайтов с бесплатным хостингом</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления.</p>
     <p>Календарь для каждого сотрудника для планирования мероприятий</p>
     <p>Виртуальный отдел управления персоналом</p>
     <p>Организационная структура компании</p>
     <p>База знаний компании</p>
     <p>Чек-ин на работе с геопозицией</p>
     <p>Автоматизация продаж через CRM</p>
     <p>Автогенерация счетов на оплату</p>
     <p>Автоматизация рабочих процессов через CRM</p>
     <p>Каталог товаров</p>
     <p>Каталог товаров</p>
     <p>Работа с виртуальными задачами</p>
     <p>Интеграция с почтой (7 дней)</p>
     <p>Складской учет</p>

     
    </div>
    <h3>Ограничения</h3>
    <div class="item__main__content item__main__content--restrictions">
     <p>Отсутствует возможность  “Важных сообщений” и генерации опросов</p>
     <p>Отсутствует редактирование документов</p>
     <p>Число опубликованных сайтов - 10</p>
     <p>Невозможно подключить электронную почту</p>
     <p>Ограничение на три базу знаний, без ограничения прав доступа</p>
     <p>Отсутствие учета рабочего времени сотрудников</p>
     <p>Отсутствие запуска рабочего дня</p>
     <p>Доступное количество воронок - 5</p>
     <p>Максимум 1000 товаров могут быть опубликованы на лендингах</p>
     <p>Товаров в каталоге 3000</p>
     <p>Отсутствует чек-лист в задачах</p>
     <p>Невозможно назначить наблюдателя и соисполнителя</p>
     <p>Невозможно генерировать под-задачи</p>
    </div>
    </div>
    <br />
`,
  },
  {
    name: "Стандартный",
    content: `
     <div class="licenses-wrapper">
    <div class="licenses__settings">
      <p>До 50 чел.</p>
      <span class="vertical-line"></span>
      <p>
        Диск 100 ГБ
      </p>
      <span class="vertical-line"></span>
      <p>24 600₸/мес</p>
    </div>

    <h3>Кому подойдет такой тариф?</h3>
    <div class="item__main__content item__main__content--whoNeed">
      <p>Розничная торговля</p>
      <p>Автосервисам</p>
      <p>Клиники</p>
      <p>Управлениям персоналом</p>
      <p>Сферам услуг</p>
      <p>Строительство</p>
      <p>Продажа-недвижимости</p>
      <p>Производствам</p>
      <p>Онлайн-образованию</p>
      <p>Оптовая торговля</p>
      <p>
        Можно интегрировать с: Google Docs, Office 365, Microsoft Office , Telegram, VK, Телефоний, WhatsApp, E-mail ( 5 ящиков ), Внешние диски
      </p>
    </div>
    <h3>Функции</h3>
    <div class="item__main__content item__main__content--functions">
     <p>Новостная лента в стиле Facebook  для внутренних коммуникаций.</p>
     <p>Внутренний ИИ</p>
     <p>Внутренний мессенджер - с функциями WhatsApp и редактированием документов</p>
     <p>Демонстрация экрана</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления.</p>
     <p>Конструктор сайтов  с бесплатным  хостингом</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления.</p>
     <p>Календарь для каждого сотрудника для планирования мероприятий</p>
     <p>Виртуальный отдел управления персоналом</p>
     <p>Организационная структура компании</p>
     <p>База знаний компании, с возможность ограничить права доступа</p>
     <p>Чек-ин на работе с геопозицией</p>
     <p>Автоматизация продаж через CRM</p>
     <p>Автоматизация рабочих процессов через CRM</p>
     <p>Автогенерация счетов на оплату и КП</p>
     <p>Каталог товаров</p>
     <p>Работа с виртуальными задачами</p>
     <p>Интеграция с почтой (7 дней)</p>
     <p>Складской учет</p>
     <p>Возможность пригласить внешних пользователей в рабочие группы ( Экстра-нет )</p>
     <p>Коэффициент полезности каждого сотрудника</p>
     <p>Работа с виртуальными проектами</p>
     <p>Bi-Конструктор</p>
     <p>Маркетинговый кабинет</p>
    </div>
    <h3>Ограничения</h3>
    <div class="item__main__content item__main__content--restrictions">
     <p>Невозможно подключить электронную почту</p>
     <p>Число опубликованных - 10</p>
     <p>Ограничение на пять базу знаний</p>
     <p>Отсутствие учета рабочего времени сотрудников</p>
     <p>Отсутствие запуска рабочего дня</p>
     <p>Доступное количество воронок - 10</p>
     <p>Максимум 3000 товаров могут быть опубликованы на лендингах</p>
     <p>Товаров в каталоге 5000</p>
     
    </div>
    </div>
    <br />
`,
  },
  {
    name: "Профессиональный",
    content: `
 <div class="licenses-wrapper">
    <div class="licenses__settings">
      <p>До 100 чел.</p>
      <span class="vertical-line"></span>
      <p>
        Диск 1 ТБ
      </p>
      <span class="vertical-line"></span>
      <p>50 00₸/мес</p>
    </div>

    <h3>Кому подойдет такой тариф?</h3>
    <div class="item__main__content item__main__content--whoNeed">
      <p>Розничная торговля</p>
      <p>Автосервисам</p>
      <p>Клиники</p>
      <p>Управлениям персоналом</p>
      <p>Сферам услуг</p>
      <p>Строительство</p>
      <p>Продажа-недвижимости</p>
      <p>Производствам</p>
      <p>Онлайн-образованию</p>
      <p>Оптовая торговля</p>
      <p>
        Можно интегрировать с:  Google Docs, Office 365, Microsoft Office , Telegram, VK, Телефоний, WhatsApp, E-mail ( 10 ящиков ), Внешние диски, 1C
      </p>
    </div>
    <h3>Функции</h3>
    <div class="item__main__content item__main__content--functions">
     <p>Новостная лента в стиле Facebook  для внутренних коммуникаций</p>
     <p>Внутренний мессенджер - с функциями WhatsApp и редактированием документов</p>
     <p>Внутренний ИИ</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления</p>
     <p>Демонстрация экрана</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления</p>
     <p>Конструктор сайтов  с бесплатным  хостингом</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления</p>
     <p>Календарь для каждого сотрудника для планирования мероприятий</p>
     <p>Виртуальный отдел управления персоналом</p>
     <p>Организационная структура компании</p>
     <p>База знаний компании, с возможность ограничить права доступа</p>
     <p>Чек-ин на работе с геопозицией</p>
     <p>Учет рабочего времени</p>
     <p>Автоматизация продаж через CRM</p>
     <p>Автоматизация рабочих процессов через CRM</p>
     <p>Автогенерация счетов на оплату и КП</p>
     <p>Каталог товаров</p>
     <p>Виртуальные задачи с учетом времени делергированием и пользовательскими полями</p>
     <p>Интеграция с почтой (7 дней)</p>
     <p>Складской учет</p>
     <p>Возможность пригласить внешних пользователей в рабочие группы ( Экстра-нет )</p>
     <p>Коэффициент полезности каждого сотрудника</p>
     <p>Работа с виртуальными проектами</p>
     <p>Bi-Конструктор и конструктор отчетов</p>
     <p>Задачи по подразделениям</p>
     <p>Гибкие методологии управления командами ( Скрам )</p>
     <p>Бизнес-процессы и смарт-процессы</p>
     <p>Маркетинговый кабинет</p>
     <p>Сквозная аналитика</p>
    </div>
    <h3>Ограничения</h3>
    <div class="item__main__content item__main__content--restrictions">
     <p>Число опубликованных сайтов не ограничено</p>
     <p>Доступное количество воронок - 20</p>
     <p>Максимум 5000 товаров могут быть опубликованы на лендингах</p>
     <p>Товаров в каталоге 500 000</p>
     <p>Число команд - 10</p>
     
    </div>
    </div>
    <br />
`,
  },

  {
    name: "Энтерпрайз",
    content: `
 <div class="licenses-wrapper">
    <div class="licenses__settings">
      <p>До 250 чел.</p>
      <span class="vertical-line"></span>
      <p>
        Диск 3 ТБ
      </p>
      <span class="vertical-line"></span>
      <p>136 000₸/мес</p>
    </div>

    <h3>Кому подойдет такой тариф?</h3>
    <div class="item__main__content item__main__content--whoNeed">
      <p>Розничная торговля</p>
      <p>Автосервисам</p>
      <p>Клиники</p>
      <p>Управлениям персоналом</p>
      <p>Сферам услуг</p>
      <p>Строительство</p>
      <p>Продажа-недвижимости</p>
      <p>Производствам</p>
      <p>Онлайн-образованию</p>
      <p>Оптовая торговля</p>
      <p>
        Можно интегрировать с: Google Docs, Office 365, Microsoft Office , Telegram, VK, Телефоний, WhatsApp, E-mail ( 5 ящиков ), Внешние диски
      </p>
    </div>
    <h3>Функции</h3>
    <div class="item__main__content item__main__content--functions">
     <p>Новостная лента в стиле Facebook  для внутренних коммуникаций</p>
     <p>Внутренний мессенджер - с функциями WhatsApp и редактированием документов</p>
     <p>Внутренний ИИ</p>
     <p>Демонстрация экрана</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления.</p>
     <p>Конструктор сайтов  с бесплатным  хостингом</p>
     <p>Контакт-центр - интегрирующий все каналы заказов в единую систему управления.</p>
     <p>Календарь для каждого сотрудника для планирования мероприятий</p>
     <p>Виртуальный отдел управления персоналом</p>
     <p>Организационная структура компании</p>
     <p>База знаний компании, с возможность ограничить права доступа</p>
     <p>Чек-ин на работе с геопозицией</p>
     <p>Учет рабочего времени</p>
     <p>Автоматизация продаж через CRM</p>
     <p>Автоматизация рабочих процессов через CRM</p>
     <p>Автогенерация счетов на оплату и КП</p>
     <p>Каталог товаров ( 5000 товаров )</p>
     <p>Виртуальные задачи с учетом времени делегированием и пользовательскими полями</p>
     <p>Интеграция с почтой (7 дней)</p>
     <p>Складской учет</p>
     <p>Возможность пригласить внешних пользователей в рабочие группы ( Экстра-нет )</p>
     <p>Коэффициент полезности каждого сотрудника</p>
     <p>Работа с виртуальными проектами</p>
     <p>Bi-Конструктор и конструктор отчетов</p>
     <p>Задачи по подразделениям</p>
     <p>Гибкие методологии управления командами ( Скрам ) 20 команд</p>
     <p>Бизнес-процессы и смарт-процессы</p>
     <p>Маркетинговый кабинет</p>
     <p>Сквозная аналитика</p>
     <p>Создание и управление филиалами</p>
     <p>Интерпрайз-кластер - ускорение до 10-ти раз</p> 
    </div>
    </div>
    <br />
`,
  },
];

document.addEventListener("DOMContentLoaded", function () {
  //  ЭЛЕМЕНТ ДЛЯ ЗАДЕРЖКИ МЕЖДУ НАЖАТИЕМ КНОПОК
  let ready = true;

  // ТАРИФЫ
  const toTarifsBtns = document.querySelectorAll(".to_tarifs-block");
  // ДОП. БЛОКИ СЛЕВА
  const leftSection = document.querySelectorAll(".slideIn_left");
  const openLeftSection = document.querySelectorAll(".open_left_section");
  const hideLeftSection = document.querySelectorAll(".hide_left_section");
  const cases_all = document.querySelector(".cases_all");

  // ПОПАП
  const popup__contact_us = document.querySelector(".popup__contact_us");

  // КОНСУЛЬТАЦИЯ
  const consultation_Page = document.querySelector(".consultation");

  // ПОЛИТИКА КОНФ.
  const privacyPolicy_Page = document.querySelector(".privacy-policy");

  //  ОБСЛУЖИВАНИЕ
  const service_Page = document.querySelector(".service");

  // КАРТОЧКИ ТАРИФА
  const tarifsList = document.querySelector(".tarifs-block__list");
  const tarifs_background = document.querySelector(".tarifs-block__background");

  // ПЕРЕКЛЮЧАТЕЛЬ СЛАЙДОВ НА БЛОКЕ МОДУЛЕЙ
  const toggler = document.querySelector(
    ".modulesBlockSwiper-navigation__toggler"
  );
  // FAQ
  const faq_list = document.querySelector(".faq__list");

  // ПЕРЕХОД К ТАРИФАМ
  toTarifsBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      mainSlider.moveTo(5);
    });
  });

  // ОТКРЫТИЕ ТАРИФА КАК ПОПАП
  function openPopup(item) {
    let parentBlockPosition = item.offsetTop;
    let popup = item.querySelector(".item__wrapper");
    let content = item.querySelector(".item__header").nextElementSibling;

    if (!tarifs_background.classList.contains("active")) {
      tarifs_background.classList.add("active"); // включаем темный фон

      // Поднимаем блок вверх
      item.style.position = "static";
      item.style.height = `${popup.offsetHeight}px`;
      popup.style.position = "absolute";
      popup.style.top = `${parentBlockPosition}px`;

      setTimeout(() => {
        popup.classList.add("active");
        popup.style.top = "20px";
      }, 20);

      // Раскрываем блок
      setTimeout(() => {
        content.style.maxHeight = content.scrollHeight + "px";
      }, 300);
    }
  }
  popup__contact_us.addEventListener("click", (e) => {
    let content = e.target.closest(".popup__contact_us__container");
    let close = e.target.closest(".popup__contact_us--close");
    if ((!content || close) && ready) {
      console.log("ready", ready);
      ready = false;
      popup__contact_us.classList.toggle("active");
      setTimeout(() => {
        ready = true;
      }, 300);
    }
  });

  // Функция для закрытия блока
  function closePopup(item) {
    let parentBlockPosition = item.offsetTop;
    let popup = item.querySelector(".item__wrapper");
    let content = item.querySelector(".item__header").nextElementSibling;

    if (tarifs_background.classList.contains("active")) {
      // Сворачиваем блок
      content.style.maxHeight = null;

      // Опускаем блок вниз
      setTimeout(() => {
        popup.style.top = `${parentBlockPosition}px`;
        tarifs_background.classList.remove("active");
      }, 300);

      setTimeout(() => {
        popup.classList.remove("active");
      }, 600);
    }
  }

  // Обработчик кликов по элементам

  tarifsList.addEventListener("click", (e) => {
    let item = e.target.closest(".item");
    let licensesBtn = e.target.closest(".change-licenses-tarif");
    const icon = item.querySelector(".plus-icon");

    if (licensesBtn) {
      document
        .querySelector(".change-licenses-tarif.active")
        .classList.remove("active");
      let licensesWrapper = item.querySelector(".licenses-wrapper");
      let itemMain = item.querySelector(".item__main");
      let dataInfo = licensesBtn.getAttribute("data-name");
      licensesBtn.classList.add("active");
      const findedLicenses = licensesInfo.find((x) => x.name === dataInfo);
      licensesWrapper.innerHTML = "";
      licensesWrapper.innerHTML = findedLicenses.content;
      licensesWrapper.style.maxHeight = licensesWrapper.scrollHeight + "px";
      itemMain.style.maxHeight = itemMain.scrollHeight + "px";
    } else if (item && ready) {
      icon.classList.toggle("active");
      ready = false;
      if (window.innerWidth >= 1200) {
        !tarifs_background.classList.contains("active")
          ? openPopup(item)
          : closePopup(item);
      } else {
        let content = item.querySelector(".item__header").nextElementSibling;

        if (content.style.maxHeight) {
          content.style.transition = ".7s";
          content.style.maxHeight = null;
        } else {
          content.style.transition = "1s";
          content.style.maxHeight = content.scrollHeight + "px";
        }
      }

      setTimeout(() => {
        ready = true;
      }, 500);
    }
  });

  const loadImages = (section) => {
    const images = section.querySelectorAll("img[data-src]");
    console.log(images, "ЭТО ИЗОБРАЖЕНИЯ ПРИ ЛЭЙЗИ ЛОАДЕ");

    if (images) {
      images.forEach((img) => {
        img.setAttribute("src", img.getAttribute("data-src"));
        img.removeAttribute("data-src");
      });
    }
  };

  // ДОБАВИТЬ АКТИВНЫЙ КЛАСС ДЛЯ ЛЕВОЙ СЕКЦИИ
  const addClassToSection = (name) => {
    switch (name) {
      case "consultation":
        loadImages(consultation_Page)
        consultation_Page.classList.toggle("active");
        break;
      case "privacy-policy":
        privacyPolicy_Page.classList.toggle("active");
        break;
      case "service":
        loadImages(service_Page)
        service_Page.classList.toggle("active");
        break;
      case "casesAll":
        loadImages(cases_all)
        cases_all.classList.toggle("active");
        break;
    }
  };

  // ОТКРЫТЬ СЕКЦИЮ
  openLeftSection.forEach((btn) => {
    btn.addEventListener("click", () => {
      let sectionName = btn.getAttribute("data-name");
      btn.disabled = true;
      setTimeout(() => {
        btn.disabled = false;
      }, 500);
      leftSection.forEach((section) => {
        section.style.visibility = "visible";
        section.style.opacity = "1";
      });
      addClassToSection(sectionName);
    });
  });

  // ЗАКРЫТЬ СЕКЦИЮ
  hideLeftSection.forEach((btn) => {
    btn.addEventListener("click", () => {
      let sectionName = btn.getAttribute("data-name");
      addClassToSection(sectionName);
    });
  });

  // ОТКРЫТИЕ КАРТОЧЕК В FAQ
  faq_list.addEventListener("click", (e) => {
    const card = e.target.closest(".faq__card");
    if (card) {
      const main = card.querySelector(".faq__main");
      const icon = card.querySelector(".plus-icon");
      if (main.style.maxHeight) {
        main.style.maxHeight = null;
        icon.classList.toggle("active");
      } else {
        main.style.maxHeight = main.scrollHeight + "px";
        icon.classList.toggle("active");
      }
    }
  });

  const mainSlider = new fullpage("#main", {
    scrollOverflow: true,
    scrolloverflowmacstyle: false,
    autoScrolling: true,
    controlArrows: false,
    scrollBar: false,
  });

  // СЛАЙДЕРЫ НА БЛОКЕ МОДУЛЕЙ
  const modulesBlockSwiper = new Swiper("#modulesBlockSwiper", {
    speed: 500,
    spaceBetween: 30,
    slidesPerView: 1,
    allowTouchMove: false,
    // autoHeight: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    breakpoints: {
      769: {
        slidesPerView: 2,
      },
    },
    on: {
      slideChange: function () {
        // Получаем активный слайд
        if (this.activeIndex) {
          toggler.style.left = "50%";
        } else {
          toggler.style.left = "0%";
        }
      },
    },
  });

  const modulesCardSwiper = new Swiper("#modules-card-swiper1", {
    speed: 500,
    grabCursor: true,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  });

  const modulesCardSwiper2 = new Swiper("#modules-card-swiper2", {
    speed: 500,
    grabCursor: true,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  });

  const painBlockSwiper = new Swiper("#painBlockSwiper", {
    direction: "horizontal",
    slidesPerView: 1,
    allowTouchMove: true,
    spaceBetween: 30,

    pagination: {
      el: ".swiper-pagination",
    },
    breakpoints: {
      769: {
    allowTouchMove: false,
    spaceBetween: 0,
      },
    },
  });

  const possibilitiesBlockSwiper = new Swiper("#possibilitiesBlockSwiper", {
    direction: "horizontal",
    slidesPerView: 1,
    spaceBetween: 30,

    pagination: {
      el: ".swiper-pagination",
    },
    breakpoints: {
      526: {
        slidesPerView: 2,
      },
    },
  });

  const casesBlockSwiper = new Swiper("#casesBlockSwiper", {
    direction: "horizontal",
    slidesPerView: 1,
    spaceBetween: 30,

    pagination: {
      el: ".swiper-pagination",
    },
    breakpoints: {
      526: {
        slidesPerView: 2,
      },
    },
  });

  const trustUs = new Swiper("#trustUs", {
    direction: "horizontal",
    spaceBetween: 20,
    slidesPerView: 2,
    slidesPerGroup: 2,
    grid: {
      rows: 3,
    },
    breakpoints: {
      769: {
        slidesPerView: 4,
        slidesPerGroup: 2,
        grid: {
          rows: 2,
        },
      },

      525: {
        slidesPerView: 3,
        slidesPerGroup: 2,
        grid: {
          rows: 2,
        },
      },
    },
    pagination: {
      el: ".trustUs_container-pagination",
    },

    navigation: {
      nextEl: ".trustUs_container-button-next",
      prevEl: ".trustUs_container-button-prev",
    },
  });
});



function animateCounters() {
  const counters = document.querySelectorAll('.counter');
  const duration = 500; // Длительность анимации в миллисекундах

  counters.forEach(counter => {
      const target = +counter.getAttribute('data-target');
      const format = counter.getAttribute('data-format');
      const startTime = performance.now();

      function updateCounter(currentTime) {
          const elapsedTime = currentTime - startTime;
          const progress = Math.min(elapsedTime / duration, 1); 
          let currentNumber = Math.floor(progress * target);
          
          if (format === 'million') {
            currentNumber = currentNumber + ' млн';

          } else if (format === 'percent') {
              currentNumber = currentNumber + '%';
          }

          counter.textContent = currentNumber;

          if (progress < 1) {
              requestAnimationFrame(updateCounter);
          }
      }

      requestAnimationFrame(updateCounter);
  });
}

animateCounters();

